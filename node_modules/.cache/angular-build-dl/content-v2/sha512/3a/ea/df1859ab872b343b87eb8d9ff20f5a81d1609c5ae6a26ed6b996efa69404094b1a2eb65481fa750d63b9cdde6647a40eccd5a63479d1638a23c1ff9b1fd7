{"version":3,"sources":["webpack:///src/app/mis-cotizaciones/mis-cotizaciones.page.html","webpack:///src/app/mis-cotizaciones/mis-cotizaciones-routing.module.ts","webpack:///src/app/mis-cotizaciones/mis-cotizaciones.module.ts","webpack:///src/app/mis-cotizaciones/mis-cotizaciones.page.scss","webpack:///src/app/mis-cotizaciones/mis-cotizaciones.page.ts"],"names":["routes","path","component","MisCotizacionesPageRoutingModule","imports","forChild","exports","MisCotizacionesPageModule","declarations","MisCotizacionesPage","auth","transfer","file","downloader","router","cotizaciones$","logs","usuarios$","getUser","user_id","getAllObjectById","subscribe","res","console","log","element","url","downloadURL","menjsa","descr","descripcion","request","uri","title","description","mimeType","visibleInDownloadsUi","notificationVisibility","VisibleNotifyCompleted","destinationInExternalFilesDir","dirType","subPath","download","then","location","error","navigate","JSON","parse","localStorage","getItem","getUsers","id","getCotizaciones","selector","template"],"mappings":"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","file":"mis-cotizaciones-mis-cotizaciones-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button><ion-icon name=\\\"menu-outline\\\"></ion-icon></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Cotizaciones Recibidas</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button disabled=\\\"true\\\">\\n        <!-- <ion-icon name=\\\"person-circle-outline\\\"></ion-icon> -->\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content no-padding>\\n  <div class=\\\"ion-content\\\" padding><br>\\n    <ion-item-group>\\n      <ion-item>\\n        <p style=\\\"margin-block-start: 0em; margin-block-end: 0em;\\\">\\n          <strong>Mis Cotizaciones</strong>\\n        </p>\\n      </ion-item>\\n      \\n      <ion-item-sliding *ngFor=\\\"let element of  cotizaciones$\\\">\\n        <ion-item lines=\\\"none\\\">\\n          <ion-thumbnail slot=\\\"start\\\">          \\n            <ion-icon name=\\\"logo-buffer\\\" style=\\\"font-size: 53px;color: black;\\\"></ion-icon>\\n          </ion-thumbnail>\\n          <ion-label text-wrap>\\n            <p><strong>{{element.importadora}} </strong></p>\\n            <p>Carrito Cotizado: {{element.carrito_id}}</p>\\n            <!-- <p>Estado: {{element.estado}}</p> -->\\n            <p>{{element.descripcion}}</p><br>\\n          <!-- <p>Archivo: <a [href]=\\\"http://altools.es/{{ element.file }}\\\">{{ element.file }}</a> </p> -->\\n          </ion-label>\\n          <ion-button (click)=\\\"show(element)\\\" size=\\\"default\\\" >\\n            <ion-icon name=\\\"document-text-outline\\\"></ion-icon>\\n          </ion-button>\\n        </ion-item>\\n        <ion-item-options side=\\\"end\\\">\\n          <ion-item-option color=\\\"danger\\\" (click)=\\\"presentAlertConfirm(element)\\\">\\n            <ion-icon class=\\\"icongarbage\\\" slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>Eliminar\\n          </ion-item-option>\\n        </ion-item-options>\\n      </ion-item-sliding>\\n    </ion-item-group>\\n    <br>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MisCotizacionesPage } from './mis-cotizaciones.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MisCotizacionesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MisCotizacionesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MisCotizacionesPageRoutingModule } from './mis-cotizaciones-routing.module';\n\nimport { MisCotizacionesPage } from './mis-cotizaciones.page';\nimport { File } from '@ionic-native/file';\nimport { FileTransfer } from '@ionic-native/file-transfer/ngx';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MisCotizacionesPageRoutingModule\n  ],\n  declarations: [MisCotizacionesPage]\n})\nexport class MisCotizacionesPageModule {}\n","export default \"p {\\n  color: black !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWlzLWNvdGl6YWNpb25lcy9taXMtY290aXphY2lvbmVzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHVCQUFBO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9taXMtY290aXphY2lvbmVzL21pcy1jb3RpemFjaW9uZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsicHtcclxuICAgIGNvbG9yOiBibGFjayAhaW1wb3J0YW50O1xyXG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { AuthProvider } from '../providers/auth/auth';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { Downloader, DownloadRequest, NotificationVisibility } from '@ionic-native/downloader/ngx';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-mis-cotizaciones',\n  templateUrl: './mis-cotizaciones.page.html',\n  styleUrls: ['./mis-cotizaciones.page.scss'],\n})\nexport class MisCotizacionesPage implements OnInit {\n \n  cotizaciones$: any = [];\n  logs:any=[];\n  usuarios$:any=[];\n\n  \n  constructor(public auth: AuthProvider,private transfer: FileTransfer,\n    private file: File, private downloader:Downloader,private router: Router ) {}\n\n  ngOnInit() {\n    this.getUser();\n  }\n\n  getCotizaciones(user_id:number) {\n    this.auth.getAllObjectById('getMisCotizaciones/', user_id)\n      .subscribe((res) => {\n        this.cotizaciones$ = res;\n        console.log(this.cotizaciones$);\n      });\n  }\n\n  show(element) {\n    \n\n    //console.log(element);\n\n    // const fileTransfer: FileTransferObject = this.transfer.create();\n\n    // const url = ('https://192.168.1.7:5000/api/');\n    const url = ('https://altools.es/api/');\n\n    var downloadURL = (url + 'downloads/' + element.file);\n    let menjsa=(\"Mi Cotizacion\"+ element.file);\n    let descr=(\"Descripcion\"+element.descripcion);\n\n    var request: DownloadRequest = {\n      uri: downloadURL,\n      title: menjsa,\n      description: descr,\n      mimeType: '',\n      visibleInDownloadsUi: true,\n      notificationVisibility: NotificationVisibility.VisibleNotifyCompleted,\n      destinationInExternalFilesDir: {\n          dirType: 'Downloads',\n          subPath: 'MyFile.pdf'\n        }\n    };\n\n    this.downloader.download(request)\n    .then((location: string) => console.log('File downloaded at:'+location))\n    .catch((error: any) => console.error(error));\n\n    console.log(downloadURL );\n    \n    // fileTransfer.download(url, 'download/' + element.file ).then((entry) => {\n    //   console.log('download complete: ' + entry.toURL());\n    // }, (error) => {\n    //   console.log(error);\n    // });\n  }\n\n  presentAlertConfirm(element){\n    console.log(element);\n  }\n  perfil(){\n    this.router.navigate(['/perfil']);\n  }\n  \n  getUser(){\n    this.logs = JSON.parse(localStorage.getItem('Usuario'));\n    \n    this.auth.getUsers('usuariosStorage/', this.logs).subscribe((res) =>{ \n      this.usuarios$ = res;\n      let user_id =  this.usuarios$.id;\n\n      this.getCotizaciones(user_id);\n      //console.log(this.usuarios$);\n    });\n  }\n}"]}