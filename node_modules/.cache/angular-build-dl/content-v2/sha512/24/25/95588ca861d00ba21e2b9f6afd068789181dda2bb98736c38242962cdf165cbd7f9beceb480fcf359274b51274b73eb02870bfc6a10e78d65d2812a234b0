{"version":3,"sources":["./src/app/mis-cotizaciones/mis-cotizaciones.page.html","./src/app/mis-cotizaciones/mis-cotizaciones-routing.module.ts","./src/app/mis-cotizaciones/mis-cotizaciones.module.ts","./src/app/mis-cotizaciones/mis-cotizaciones.page.scss","./src/app/mis-cotizaciones/mis-cotizaciones.page.ts"],"names":[],"mappings":"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","file":"mis-cotizaciones-mis-cotizaciones-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button><ion-icon name=\\\"menu-outline\\\"></ion-icon></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Cotizaciones Recibidas</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button disabled=\\\"true\\\">\\r\\n        <!-- <ion-icon name=\\\"person-circle-outline\\\"></ion-icon> -->\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content no-padding>\\r\\n  <div class=\\\"ion-content\\\" padding><br>\\r\\n    <ion-item-group>\\r\\n      <ion-item>\\r\\n        <p style=\\\"margin-block-start: 0em; margin-block-end: 0em;\\\">\\r\\n          <strong>Mis Cotizaciones</strong>\\r\\n        </p>\\r\\n      </ion-item>\\r\\n      \\r\\n      <ion-item-sliding *ngFor=\\\"let element of  cotizaciones$\\\">\\r\\n        <ion-item lines=\\\"none\\\">\\r\\n          <ion-thumbnail slot=\\\"start\\\">          \\r\\n            <ion-icon name=\\\"logo-buffer\\\" style=\\\"font-size: 53px;color: black;\\\"></ion-icon>\\r\\n          </ion-thumbnail>\\r\\n          <ion-label text-wrap>\\r\\n            <p><strong>{{element.importadora}} </strong></p>\\r\\n            <p>Carrito Cotizado: {{element.carrito_id}}</p>\\r\\n            <!-- <p>Estado: {{element.estado}}</p> -->\\r\\n            <p>{{element.descripcion}}</p><br>\\r\\n          <!-- <p>Archivo: <a [href]=\\\"http://altools.es/{{ element.file }}\\\">{{ element.file }}</a> </p> -->\\r\\n          </ion-label>\\r\\n          <ion-button (click)=\\\"show(element)\\\" size=\\\"default\\\" >\\r\\n            <ion-icon name=\\\"document-text-outline\\\"></ion-icon>\\r\\n          </ion-button>\\r\\n        </ion-item>\\r\\n        <ion-item-options side=\\\"end\\\">\\r\\n          <ion-item-option color=\\\"danger\\\" (click)=\\\"presentAlertConfirm(element)\\\">\\r\\n            <ion-icon class=\\\"icongarbage\\\" slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>Eliminar\\r\\n          </ion-item-option>\\r\\n        </ion-item-options>\\r\\n      </ion-item-sliding>\\r\\n    </ion-item-group>\\r\\n    <br>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MisCotizacionesPage } from './mis-cotizaciones.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MisCotizacionesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MisCotizacionesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MisCotizacionesPageRoutingModule } from './mis-cotizaciones-routing.module';\r\n\r\nimport { MisCotizacionesPage } from './mis-cotizaciones.page';\r\nimport { File } from '@ionic-native/file';\r\nimport { FileTransfer } from '@ionic-native/file-transfer/ngx';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MisCotizacionesPageRoutingModule\r\n  ],\r\n  declarations: [MisCotizacionesPage]\r\n})\r\nexport class MisCotizacionesPageModule {}\r\n","export default \"p {\\n  color: black !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWlzLWNvdGl6YWNpb25lcy9taXMtY290aXphY2lvbmVzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHVCQUFBO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9taXMtY290aXphY2lvbmVzL21pcy1jb3RpemFjaW9uZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsicHtcclxuICAgIGNvbG9yOiBibGFjayAhaW1wb3J0YW50O1xyXG59Il19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { AuthProvider } from '../providers/auth/auth';\r\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\r\nimport { File } from '@ionic-native/file/ngx';\r\nimport { Downloader, DownloadRequest, NotificationVisibility } from '@ionic-native/downloader/ngx';\r\nimport { Router } from '@angular/router';\r\n@Component({\r\n  selector: 'app-mis-cotizaciones',\r\n  templateUrl: './mis-cotizaciones.page.html',\r\n  styleUrls: ['./mis-cotizaciones.page.scss'],\r\n})\r\nexport class MisCotizacionesPage implements OnInit {\r\n \r\n  cotizaciones$: any = [];\r\n  logs:any=[];\r\n  usuarios$:any=[];\r\n\r\n  \r\n  constructor(public auth: AuthProvider,private transfer: FileTransfer,\r\n    private file: File, private downloader:Downloader,private router: Router ) {}\r\n\r\n  ngOnInit() {\r\n    this.getUser();\r\n  }\r\n\r\n  getCotizaciones(user_id:number) {\r\n    this.auth.getAllObjectById('getMisCotizaciones/', user_id)\r\n      .subscribe((res) => {\r\n        this.cotizaciones$ = res;\r\n        console.log(this.cotizaciones$);\r\n      });\r\n  }\r\n\r\n  show(element) {\r\n    \r\n\r\n    //console.log(element);\r\n\r\n    // const fileTransfer: FileTransferObject = this.transfer.create();\r\n\r\n    // const url = ('https://192.168.1.7:5000/api/');\r\n    const url = ('https://altools.es/api/');\r\n\r\n    var downloadURL = (url + 'downloads/' + element.file);\r\n    let menjsa=(\"Mi Cotizacion\"+ element.file);\r\n    let descr=(\"Descripcion\"+element.descripcion);\r\n\r\n    var request: DownloadRequest = {\r\n      uri: downloadURL,\r\n      title: menjsa,\r\n      description: descr,\r\n      mimeType: '',\r\n      visibleInDownloadsUi: true,\r\n      notificationVisibility: NotificationVisibility.VisibleNotifyCompleted,\r\n      destinationInExternalFilesDir: {\r\n          dirType: 'Downloads',\r\n          subPath: 'MyFile.pdf'\r\n        }\r\n    };\r\n\r\n    this.downloader.download(request)\r\n    .then((location: string) => console.log('File downloaded at:'+location))\r\n    .catch((error: any) => console.error(error));\r\n\r\n    console.log(downloadURL );\r\n    \r\n    // fileTransfer.download(url, 'download/' + element.file ).then((entry) => {\r\n    //   console.log('download complete: ' + entry.toURL());\r\n    // }, (error) => {\r\n    //   console.log(error);\r\n    // });\r\n  }\r\n\r\n  presentAlertConfirm(element){\r\n    console.log(element);\r\n  }\r\n  perfil(){\r\n    this.router.navigate(['/perfil']);\r\n  }\r\n  \r\n  getUser(){\r\n    this.logs = JSON.parse(localStorage.getItem('Usuario'));\r\n    \r\n    this.auth.getUsers('usuariosStorage/', this.logs).subscribe((res) =>{ \r\n      this.usuarios$ = res;\r\n      let user_id =  this.usuarios$.id;\r\n\r\n      this.getCotizaciones(user_id);\r\n      //console.log(this.usuarios$);\r\n    });\r\n  }\r\n}"],"sourceRoot":"webpack:///"}