{"version":3,"sources":["./src/app/mis-productos/mis-productos.page.html","./src/app/mis-productos/mis-productos.page.scss","./src/app/mis-productos/mis-productos.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,6KAA8G,+hBAA+hB,mBAAmB,soBAAsoB,wHAAwH,gBAAgB,kFAAkF,gBAAgB,mFAAmF,eAAe,uFAAuF,gBAAgB,kzBAAkzB,E;;;;;;;;;;;;ACA1hF;AAAe,mFAAoB,iBAAiB,GAAG,sBAAsB,uBAAuB,GAAG,eAAe,iBAAiB,GAAG,gBAAgB,kBAAkB,GAAG,mBAAmB,gCAAgC,GAAG,0BAA0B,iBAAiB,GAAG,UAAU,iBAAiB,GAAG,6CAA6C,u3BAAu3B,E;;;;;;;;;;;;;;;;;;;;;;;ACAhpC;AACb;AACC;AACH;AAEwD;AAC5C;AACZ;IAOzC,gBAAgB,SAAhB,gBAAgB;IAgB3B,YAAoB,KAAqB,EAAU,YAAyB,EACnE,GAAgB,EAAS,qBAA4C,EACrE,iBAAoC,EAAS,eAAgC,EAC5E,MAAc;QAHJ,UAAK,GAAL,KAAK,CAAgB;QAAU,iBAAY,GAAZ,YAAY,CAAa;QACnE,QAAG,GAAH,GAAG,CAAa;QAAS,0BAAqB,GAArB,qBAAqB,CAAuB;QACrE,sBAAiB,GAAjB,iBAAiB,CAAmB;QAAS,oBAAe,GAAf,eAAe,CAAiB;QAC5E,WAAM,GAAN,MAAM,CAAQ;QAVxB,eAAU,GAAK,EAAE,CAAC;QAClB,gBAAW,GAAQ,EAAE,CAAC;QAItB,iBAAY,GAAK,EAAE,CAAC;IAQnB,CAAC;IAEF,QAAQ;QACN,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC;QAC9B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAClC,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAEK,kBAAkB,CAAC,OAAO;;YAC9B,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC;gBAC1D,MAAM,EAAE,+BAA+B;gBACvC,QAAQ,EAAE,wBAAwB;gBAClC,OAAO,EAAE,CAAC;wBACR,IAAI,EAAE,KAAK;wBACX,IAAI,EAAE,MAAM;wBACZ,QAAQ,EAAE,wBAAwB;wBAClC,IAAI,EAAE,KAAK;wBACX,OAAO,EAAE,GAAG,EAAE;4BACZ,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;4BACrB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;4BAClD,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC;gCAC3B,WAAW,EAAE,IAAI;6BAClB,CAAC,CAAC;wBAEL,CAAC;qBACF,EAAE;wBACD,IAAI,EAAE,SAAS;wBACf,IAAI,EAAE,MAAM;wBACZ,QAAQ,EAAE,wBAAwB;wBAClC,IAAI,EAAE,KAAK;wBACX,OAAO,EAAE,GAAG,EAAE;4BACZ,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;wBAEpC,CAAC;qBACF;oBACD,IAAI;oBACJ,oBAAoB;oBACpB,oBAAoB;oBACpB,qBAAqB;oBACrB,0CAA0C;oBAC1C,2BAA2B;oBAC3B,gCAAgC;oBAChC,uDAAuD;oBACvD,0CAA0C;oBAC1C,2CAA2C;oBAC3C,2CAA2C;oBAC3C,kCAAkC;oBAClC,UAAU;oBACV,4BAA4B;oBAC5B,wDAAwD;oBACxD,kCAAkC;oBAClC,8CAA8C;oBAC9C,8CAA8C;oBAC9C,4CAA4C;oBAC5C,MAAM;oBACN,KAAK;oBACH;wBACA,IAAI,EAAE,UAAU;wBAChB,IAAI,EAAE,OAAO;wBACb,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE,GAAG,EAAE;4BACZ,WAAW,CAAC,OAAO,EAAE,CAAC;wBACxB,CAAC;qBACF,CAAC;aACH,CAAC,CAAC;YACH,MAAM,WAAW,CAAC,OAAO,EAAE,CAAC;YAE5B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,WAAW,CAAC,YAAY,EAAE,CAAC;YAClD,uDAAuD;QACzD,CAAC;KAAA;IAEK,mBAAmB,CAAC,OAAO;;YAC/B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,6EAAe;gBAC1B,QAAQ,EAAE,6BAA6B;gBACvC,cAAc,EAAE;oBACd,IAAI,EAAC,EAAC,OAAO,EAAC,OAAO,EAAC;oBACtB,MAAM,EAAE,OAAO,CAAC,IAAI;oBACpB,OAAO,EAAE,OAAO,CAAC,KAAK;oBACtB,eAAe,EAAE,OAAO,CAAC,aAAa;oBACtC,QAAQ,EAAE,OAAO,CAAC,MAAM;oBACxB,cAAc,EAAE,OAAO,CAAC,YAAY;oBACpC,OAAO,EAAE,OAAO,CAAC,KAAK;oBACtB,aAAa,EAAE,OAAO,CAAC,WAAW;oBAClC,gBAAgB,EAAE,OAAO,CAAC,cAAc;oBACxC,QAAQ,EAAE,OAAO,CAAC,MAAM;oBACxB,IAAI,EAAE,OAAO,CAAC,EAAE;oBAChB,QAAQ,EAAE,OAAO,CAAC,MAAM;oBACxB,aAAa,EAAE,OAAO,CAAC,WAAW;oBAClC,QAAQ,EAAE,OAAO,CAAC,MAAM;oBACxB,SAAS,EAAC,OAAO,CAAC,OAAO;oBACzB,QAAQ,EAAE,OAAO,CAAC,MAAM;oBACxB,YAAY,EAAE,OAAO,CAAC,UAAU;oBAChC,kBAAkB,EAAE,OAAO,CAAC,gBAAgB;oBAC5C,aAAa,EAAE,OAAO,CAAC,WAAW;iBACnC;aACF,CAAC,CAAC;YACH,OAAO,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAC/B,CAAC;KAAA;IAEK,WAAW;;YACf,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,iEAAW;gBACtB,QAAQ,EAAE,iBAAiB;aAC5B,CAAC,CAAC;YACH,OAAO,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAC/B,CAAC;KAAA;IAED,QAAQ,CAAC,KAAK;QACZ,UAAU,CAAC,GAAG,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YAExB,+CAA+C;YAC/C,kCAAkC;YAClC,IAAI,KAAK,CAAC,MAAM,IAAI,EAAE,EAAE;gBACtB,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC;aAC9B;QACH,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IACD,UAAU;QACR,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;YAC7B,EAAE,EAAG,CAAC,IAAI,CAAC,EAAE,CAAC;YACd,WAAW,EAAC,CAAC,IAAI,CAAC,WAAW,CAAC;YAC9B,OAAO,EAAC,CAAC,IAAI,CAAC,OAAO,CAAC;SACvB,CAAC,CAAC;IACL,CAAC;IAED,aAAa;QACX,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;QAC/B,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;QAChB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAElB,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,CAAC,CAAC;aAC7C,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QACxB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM,CAAC,KAAK;QACV,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;IACxC,CAAC;IAED,OAAO;QACL,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC;YAC3B,WAAW,EAAE,IAAI;SAClB,CAAC,CAAC;IACL,CAAC;CACF;;YAtLQ,8DAAc;YADd,0DAAW;YAEX,iEAAY;YAEZ,oEAAqB;YAAsC,gEAAiB;YAAlC,8DAAe;YAHzC,sDAAM;;;6BAc5B,uDAAS,SAAC,gEAAiB;iBAE3B,mDAAK;sBACL,mDAAK;0BACL,mDAAK;;AANK,gBAAgB;IAL5B,+DAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;QAC7B,yOAAwC;;KAEzC,CAAC;GACW,gBAAgB,CA0K5B;AA1K4B","file":"default~importadoras-importadoras-module~mis-productos-mis-productos-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"dissmis();\\\"><ion-icon name=\\\"close-outline\\\"></ion-icon></ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Prod. Importadora</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\" >\\r\\n      <ion-button (click)=\\\"cartDetails()\\\"><ion-icon name=\\\"cart\\\"></ion-icon></ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n  <ion-searchbar mode=\\\"ios\\\" (ionChange)=\\\"buscar($event)\\\" placeholder=\\\"Buscar por CÃ³digo\\\" animated></ion-searchbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"contenido\\\">\\r\\n    <ion-row style=\\\"border-bottom: groove;text-align: center;\\\">\\r\\n      <ion-col col-4>\\r\\n        <ion-label><strong>Cod.</strong></ion-label>\\r\\n      </ion-col>\\r\\n      <ion-col col-4>\\r\\n        <ion-label><strong>Nombre</strong> </ion-label>\\r\\n      </ion-col>\\r\\n      <ion-col col-4>\\r\\n        <ion-label><strong>Color</strong></ion-label>\\r\\n      </ion-col>\\r\\n      <!-- <ion-col col-4>\\r\\n        <ion-label><strong>Precio</strong></ion-label>\\r\\n      </ion-col> -->\\r\\n      <ion-col col-4>\\r\\n        <ion-label><strong><ion-icon name=\\\"ellipsis-vertical-outline\\\"></ion-icon></strong></ion-label>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  \\r\\n    <ion-row style=\\\"border-bottom: groove;\\\" *ngFor=\\\"let element of productos$ | filtro:textoBuscar:'codigo'\\\">\\r\\n      <ion-col col-4>\\r\\n        <ion-label>{{element.codigo}}</ion-label>\\r\\n      </ion-col>\\r\\n      <ion-col col-4>\\r\\n        <ion-label>{{element.nombre}}</ion-label>\\r\\n      </ion-col>\\r\\n      <ion-col col-4>\\r\\n        <ion-label> {{element.color}}</ion-label>\\r\\n      </ion-col>\\r\\n      <!-- <ion-col col-4>\\r\\n        <ion-label>{{element.precio}}</ion-label>\\r\\n      </ion-col> -->      \\r\\n      <ion-button size=\\\"small\\\" color=\\\"light\\\" (click)=\\\"presentActionSheet(element)\\\">\\r\\n        <ion-icon name=\\\"ellipsis-vertical-outline\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n      <!-- <ion-button size=\\\"small\\\" color=\\\"danger\\\" (click)=\\\"deleteAll(element)\\\">\\r\\n        <ion-icon name=\\\"trash-outline\\\"></ion-icon>\\r\\n      </ion-button> -->\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\r\\n      <ion-infinite-scroll-content\\r\\n        loadingSpinner=\\\"bubbles\\\"\\r\\n        loadingText=\\\"Cargando mas productos...\\\">\\r\\n      </ion-infinite-scroll-content>\\r\\n    </ion-infinite-scroll>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer>\\r\\n  <app-pedidomodal></app-pedidomodal>\\r\\n</ion-footer>\\r\\n\";","export default \"p, ion-card-title {\\n  color: black;\\n}\\n\\nion-col, ion-row {\\n  text-align: center;\\n}\\n\\nion-label {\\n  color: black;\\n}\\n\\n.contenido {\\n  padding: 10px;\\n}\\n\\nion-searchbar {\\n  background-color: aliceblue;\\n}\\n\\nion-searchbar, input {\\n  color: black;\\n}\\n\\nicon {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWlzLXByb2R1Y3Rvcy9taXMtcHJvZHVjdG9zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7QUFDSjs7QUFDQTtFQUNJLGtCQUFBO0FBRUo7O0FBQUU7RUFDRSxZQUFBO0FBR0o7O0FBREU7RUFDSSxhQUFBO0FBSU47O0FBRkU7RUFDRSwyQkFBQTtBQUtKOztBQUhBO0VBQ0EsWUFBQTtBQU1BOztBQUhBO0VBQ0UsWUFBQTtBQU1GIiwiZmlsZSI6InNyYy9hcHAvbWlzLXByb2R1Y3Rvcy9taXMtcHJvZHVjdG9zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInAsIGlvbi1jYXJkLXRpdGxle1xyXG4gICAgY29sb3I6IGJsYWNrXHJcbn1cclxuaW9uLWNvbCwgaW9uLXJvd3tcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcbiAgaW9uLWxhYmVse1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG4gIH1cclxuICAuY29udGVuaWRve1xyXG4gICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gIH1cclxuICBpb24tc2VhcmNoYmFye1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYWxpY2VibHVlO1xyXG59XHJcbmlvbi1zZWFyY2hiYXIsIGlucHV0e1xyXG5jb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcbmljb257XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59Il19 */\";","import { Component, OnInit, Input, ViewChild  } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AuthProvider } from '../providers/auth/auth';\r\nimport { IMProducto } from'../model/models';\r\nimport { ActionSheetController, IonInfiniteScroll, ModalController, PopoverController } from '@ionic/angular';\r\nimport { PedidomodalPage } from '../pedidomodal/pedidomodal.page';\r\nimport { CarritoPage } from '../carrito/carrito.page';\r\n\r\n@Component({\r\n  selector: 'app-mis-productos',\r\n  templateUrl: './mis-productos.page.html',\r\n  styleUrls: ['./mis-productos.page.scss'],\r\n})\r\nexport class MisProductosPage implements OnInit {\r\n\r\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\r\n\r\n  @Input() id: string; //id de la importadora\r\n  @Input() user_id:any;\r\n  @Input() importadora:any;\r\n\r\n  dataForm: FormGroup;\r\n  productos$:any=[];\r\n  textoBuscar:string='';\r\n  //importadora:string;\r\n  data: any;\r\n  IMProducto\r\n  misProductos:any={};\r\n\r\n  constructor(private route: ActivatedRoute, private _formBuilder: FormBuilder,\r\n    public api:AuthProvider, public actionSheetController: ActionSheetController,\r\n    public popoverController: PopoverController, public modalController: ModalController,\r\n    private router: Router,\r\n   ) {\r\n    \r\n   }\r\n\r\n  ngOnInit() {\r\n    this.misProductos = this.data;  \r\n    this.dataForm = this.createForm();\r\n    this.getmyProducts();\r\n  }\r\n\r\n  async presentActionSheet(element) {\r\n    const actionSheet = await this.actionSheetController.create({\r\n      header: 'Opciones Producto Importadora',\r\n      cssClass: 'my-custom-class-pedido',\r\n      buttons: [{\r\n        text: 'Ver',\r\n        role: 'show',\r\n        cssClass: 'my-custom-class-pedido',\r\n        icon: 'eye',\r\n        handler: () => {\r\n          console.log(element);\r\n          this.router.navigate(['/producto/' + element.id]);\r\n          this.modalController.dismiss({\r\n            'dismissed': true\r\n          });\r\n          \r\n        }\r\n      }, {\r\n        text: 'Comprar',\r\n        icon: 'cart',\r\n        cssClass: 'my-custom-class-pedido',\r\n        role: 'buy',\r\n        handler: () => {\r\n          this.add_productCartShop(element);\r\n          \r\n        }\r\n      },\r\n      // {\r\n      //   text: 'Editar',\r\n      //   icon: 'create',\r\n      //   handler: () => {\r\n      //    let data = this._formBuilder.group({\r\n      //       id : [element.id],\r\n      //       extra: [element.extra],\r\n      //       nombre_operacion : [element.nombre_operacion],\r\n      //       total_suma: [element.total_suma],\r\n      //       total_extra:[element.total_extra],\r\n      //       descripcion:[element.descripcion],\r\n      //       user_id:[element.user_id]\r\n      //     });\r\n      //     this.id = element.id;\r\n      //     this.nombre_operacion = element.nombre_operacion;\r\n      //     this.extra = element.extra;\r\n      //     this.descripcion = element.descripcion;\r\n      //     this.total_extra = element.total_extra;\r\n      //     this.total_suma = element.total_suma;\r\n      //   }\r\n      // },\r\n        {\r\n        text: 'Cancelar',\r\n        icon: 'close',\r\n        role: 'cancel',\r\n        handler: () => {\r\n          actionSheet.dismiss();\r\n        }\r\n      }]\r\n    });\r\n    await actionSheet.present();\r\n\r\n    const { role } = await actionSheet.onDidDismiss();\r\n    //console.log('onDidDismiss resolved with role', role);\r\n  }\r\n\r\n  async add_productCartShop(element) {\r\n    const modal = await this.modalController.create({\r\n      component: PedidomodalPage,\r\n      cssClass: 'my-custom-class-pedidoModal',\r\n      componentProps: {\r\n        data:{element:element},\r\n        'alto': element.alto,\r\n        'ancho': element.ancho,\r\n        'categorias_id': element.categorias_id,\r\n        'codigo': element.codigo,\r\n        'confirmacion': element.confirmacion,\r\n        'color': element.color,\r\n        'descripcion': element.descripcion,\r\n        'disponibilidad': element.disponibilidad,\r\n        'estado': element.estado,\r\n        'id': element.id,\r\n        'imagen': element.imagen,\r\n        'importadora': element.importadora,\r\n        'nombre': element.nombre,\r\n        'novedad':element.novedad,\r\n        'precio': element.precio,\r\n        'puntuacion': element.puntuacion,\r\n        'subcategorias_id': element.subcategorias_id,\r\n        'tipo_medida': element.tipo_medida,\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async cartDetails(){\r\n    const modal = await this.modalController.create({\r\n      component: CarritoPage,\r\n      cssClass: 'my-custom-class'\r\n    });\r\n    return await modal.present();\r\n  }\r\n  \r\n  loadData(event) {\r\n    setTimeout(() => {\r\n      console.log('Done');\r\n      event.target.complete();\r\n\r\n      // App logic to determine if all data is loaded\r\n      // and disable the infinite scroll\r\n      if (event.length == 20) {\r\n        event.target.disabled = true;\r\n      }\r\n    }, 500);\r\n  }\r\n  createForm(): FormGroup {\r\n    return this._formBuilder.group({\r\n      id : [this.id],\r\n      importadora:[this.importadora],\r\n      user_id:[this.user_id],\r\n    });\r\n  }\r\n\r\n  getmyProducts(){  \r\n    let data = this.dataForm.value;\r\n    let a = data.id;\r\n    console.log(data);\r\n    \r\n    this.api.getAllObjectById('getMyProducts/', a)\r\n    .subscribe((res) =>{ \r\n      this.productos$ = res;   \r\n    });\r\n  }\r\n\r\n  buscar(event){\r\n    this.textoBuscar = event.detail.value;\r\n  }\r\n\r\n  dissmis(){\r\n    this.modalController.dismiss({\r\n      'dismissed': true\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}