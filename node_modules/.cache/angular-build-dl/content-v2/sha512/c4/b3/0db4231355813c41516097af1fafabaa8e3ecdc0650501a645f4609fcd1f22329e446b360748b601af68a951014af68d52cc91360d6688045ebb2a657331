{"version":3,"sources":["webpack:///src/app/mis-cotizaciones/mis-cotizaciones.page.html","webpack:///src/app/mis-cotizaciones/mis-cotizaciones-routing.module.ts","webpack:///src/app/mis-cotizaciones/mis-cotizaciones.module.ts","webpack:///src/app/mis-cotizaciones/mis-cotizaciones.page.scss","webpack:///src/app/mis-cotizaciones/mis-cotizaciones.page.ts"],"names":["routes","path","component","MisCotizacionesPageRoutingModule","imports","forChild","exports","MisCotizacionesPageModule","declarations","MisCotizacionesPage","auth","transfer","file","downloader","router","cotizaciones$","logs","usuarios$","getUser","user_id","getAllObjectById","subscribe","res","console","log","element","url","downloadURL","menjsa","descr","descripcion","request","uri","title","description","mimeType","visibleInDownloadsUi","notificationVisibility","VisibleNotifyCompleted","destinationInExternalFilesDir","dirType","subPath","download","then","location","error","navigate","JSON","parse","localStorage","getItem","getUsers","id","getCotizaciones","selector","template"],"mappings":"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","file":"mis-cotizaciones-mis-cotizaciones-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button><ion-icon name=\\\"menu-outline\\\"></ion-icon></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Cotizaciones Recibidas</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button disabled=\\\"true\\\">\\r\\n        <!-- <ion-icon name=\\\"person-circle-outline\\\"></ion-icon> -->\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content no-padding>\\r\\n  <div class=\\\"ion-content\\\" padding><br>\\r\\n    <ion-item-group>\\r\\n      <ion-item>\\r\\n        <p style=\\\"margin-block-start: 0em; margin-block-end: 0em;\\\">\\r\\n          <strong>Mis Cotizaciones</strong>\\r\\n        </p>\\r\\n      </ion-item>\\r\\n      \\r\\n      <ion-item-sliding *ngFor=\\\"let element of  cotizaciones$\\\">\\r\\n        <ion-item lines=\\\"none\\\">\\r\\n          <ion-thumbnail slot=\\\"start\\\">          \\r\\n            <ion-icon name=\\\"logo-buffer\\\" style=\\\"font-size: 53px;color: black;\\\"></ion-icon>\\r\\n          </ion-thumbnail>\\r\\n          <ion-label text-wrap>\\r\\n            <p><strong>{{element.importadora}} </strong></p>\\r\\n            <p>Carrito Cotizado: {{element.carrito_id}}</p>\\r\\n            <!-- <p>Estado: {{element.estado}}</p> -->\\r\\n            <p>{{element.descripcion}}</p><br>\\r\\n          <!-- <p>Archivo: <a [href]=\\\"http://altools.es/{{ element.file }}\\\">{{ element.file }}</a> </p> -->\\r\\n          </ion-label>\\r\\n          <ion-button (click)=\\\"show(element)\\\" size=\\\"default\\\" >\\r\\n            <ion-icon name=\\\"document-text-outline\\\"></ion-icon>\\r\\n          </ion-button>\\r\\n        </ion-item>\\r\\n        <ion-item-options side=\\\"end\\\">\\r\\n          <ion-item-option color=\\\"danger\\\" (click)=\\\"presentAlertConfirm(element)\\\">\\r\\n            <ion-icon class=\\\"icongarbage\\\" slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>Eliminar\\r\\n          </ion-item-option>\\r\\n        </ion-item-options>\\r\\n      </ion-item-sliding>\\r\\n    </ion-item-group>\\r\\n    <br>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MisCotizacionesPage } from './mis-cotizaciones.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MisCotizacionesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MisCotizacionesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MisCotizacionesPageRoutingModule } from './mis-cotizaciones-routing.module';\r\n\r\nimport { MisCotizacionesPage } from './mis-cotizaciones.page';\r\nimport { File } from '@ionic-native/file';\r\nimport { FileTransfer } from '@ionic-native/file-transfer/ngx';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MisCotizacionesPageRoutingModule\r\n  ],\r\n  declarations: [MisCotizacionesPage]\r\n})\r\nexport class MisCotizacionesPageModule {}\r\n","export default \"p {\\n  color: black !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWlzLWNvdGl6YWNpb25lcy9taXMtY290aXphY2lvbmVzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHVCQUFBO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9taXMtY290aXphY2lvbmVzL21pcy1jb3RpemFjaW9uZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsicHtcclxuICAgIGNvbG9yOiBibGFjayAhaW1wb3J0YW50O1xyXG59Il19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { AuthProvider } from '../providers/auth/auth';\r\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\r\nimport { File } from '@ionic-native/file/ngx';\r\nimport { Downloader, DownloadRequest, NotificationVisibility } from '@ionic-native/downloader/ngx';\r\nimport { Router } from '@angular/router';\r\n@Component({\r\n  selector: 'app-mis-cotizaciones',\r\n  templateUrl: './mis-cotizaciones.page.html',\r\n  styleUrls: ['./mis-cotizaciones.page.scss'],\r\n})\r\nexport class MisCotizacionesPage implements OnInit {\r\n \r\n  cotizaciones$: any = [];\r\n  logs:any=[];\r\n  usuarios$:any=[];\r\n\r\n  \r\n  constructor(public auth: AuthProvider,private transfer: FileTransfer,\r\n    private file: File, private downloader:Downloader,private router: Router ) {}\r\n\r\n  ngOnInit() {\r\n    this.getUser();\r\n  }\r\n\r\n  getCotizaciones(user_id:number) {\r\n    this.auth.getAllObjectById('getMisCotizaciones/', user_id)\r\n      .subscribe((res) => {\r\n        this.cotizaciones$ = res;\r\n        console.log(this.cotizaciones$);\r\n      });\r\n  }\r\n\r\n  show(element) {\r\n    \r\n\r\n    //console.log(element);\r\n\r\n    // const fileTransfer: FileTransferObject = this.transfer.create();\r\n\r\n    // const url = ('https://192.168.1.7:5000/api/');\r\n    const url = ('https://altools.es/api/');\r\n\r\n    var downloadURL = (url + 'downloads/' + element.file);\r\n    let menjsa=(\"Mi Cotizacion\"+ element.file);\r\n    let descr=(\"Descripcion\"+element.descripcion);\r\n\r\n    var request: DownloadRequest = {\r\n      uri: downloadURL,\r\n      title: menjsa,\r\n      description: descr,\r\n      mimeType: '',\r\n      visibleInDownloadsUi: true,\r\n      notificationVisibility: NotificationVisibility.VisibleNotifyCompleted,\r\n      destinationInExternalFilesDir: {\r\n          dirType: 'Downloads',\r\n          subPath: 'MyFile.pdf'\r\n        }\r\n    };\r\n\r\n    this.downloader.download(request)\r\n    .then((location: string) => console.log('File downloaded at:'+location))\r\n    .catch((error: any) => console.error(error));\r\n\r\n    console.log(downloadURL );\r\n    \r\n    // fileTransfer.download(url, 'download/' + element.file ).then((entry) => {\r\n    //   console.log('download complete: ' + entry.toURL());\r\n    // }, (error) => {\r\n    //   console.log(error);\r\n    // });\r\n  }\r\n\r\n  presentAlertConfirm(element){\r\n    console.log(element);\r\n  }\r\n  perfil(){\r\n    this.router.navigate(['/perfil']);\r\n  }\r\n  \r\n  getUser(){\r\n    this.logs = JSON.parse(localStorage.getItem('Usuario'));\r\n    \r\n    this.auth.getUsers('usuariosStorage/', this.logs).subscribe((res) =>{ \r\n      this.usuarios$ = res;\r\n      let user_id =  this.usuarios$.id;\r\n\r\n      this.getCotizaciones(user_id);\r\n      //console.log(this.usuarios$);\r\n    });\r\n  }\r\n}"]}