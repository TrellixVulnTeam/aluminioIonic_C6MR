{"version":3,"sources":["webpack:///src/app/mis-productos/mis-productos.page.html","webpack:///src/app/mis-productos/mis-productos.page.scss","webpack:///src/app/mis-productos/mis-productos.page.ts"],"names":["MisProductosPage","route","_formBuilder","api","actionSheetController","popoverController","modalController","router","productos$","textoBuscar","misProductos","data","dataForm","createForm","getmyProducts","element","create","header","cssClass","buttons","text","role","icon","handler","console","log","navigate","id","dismiss","add_productCartShop","actionSheet","present","onDidDismiss","component","componentProps","alto","ancho","categorias_id","codigo","confirmacion","color","descripcion","disponibilidad","estado","imagen","importadora","nombre","novedad","precio","puntuacion","subcategorias_id","tipo_medida","modal","event","setTimeout","target","complete","length","disabled","group","user_id","value","a","getAllObjectById","subscribe","res","detail","selector","template"],"mappings":"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","file":"default~importadoras-importadoras-module~mis-productos-mis-productos-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"dissmis();\\\"><ion-icon name=\\\"close-outline\\\"></ion-icon></ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Prod. Importadora</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\" >\\r\\n      <ion-button (click)=\\\"cartDetails()\\\"><ion-icon name=\\\"cart\\\"></ion-icon></ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n  <ion-searchbar mode=\\\"ios\\\" (ionChange)=\\\"buscar($event)\\\" placeholder=\\\"Buscar por CÃ³digo\\\" animated></ion-searchbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"contenido\\\">\\r\\n    <ion-row style=\\\"border-bottom: groove;text-align: center;\\\">\\r\\n      <ion-col col-4>\\r\\n        <ion-label><strong>Cod.</strong></ion-label>\\r\\n      </ion-col>\\r\\n      <ion-col col-4>\\r\\n        <ion-label><strong>Nombre</strong> </ion-label>\\r\\n      </ion-col>\\r\\n      <ion-col col-4>\\r\\n        <ion-label><strong>Color</strong></ion-label>\\r\\n      </ion-col>\\r\\n      <!-- <ion-col col-4>\\r\\n        <ion-label><strong>Precio</strong></ion-label>\\r\\n      </ion-col> -->\\r\\n      <ion-col col-4>\\r\\n        <ion-label><strong><ion-icon name=\\\"ellipsis-vertical-outline\\\"></ion-icon></strong></ion-label>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  \\r\\n    <ion-row style=\\\"border-bottom: groove;\\\" *ngFor=\\\"let element of productos$ | filtro:textoBuscar:'codigo'\\\">\\r\\n      <ion-col col-4>\\r\\n        <ion-label>{{element.codigo}}</ion-label>\\r\\n      </ion-col>\\r\\n      <ion-col col-4>\\r\\n        <ion-label>{{element.nombre}}</ion-label>\\r\\n      </ion-col>\\r\\n      <ion-col col-4>\\r\\n        <ion-label> {{element.color}}</ion-label>\\r\\n      </ion-col>\\r\\n      <!-- <ion-col col-4>\\r\\n        <ion-label>{{element.precio}}</ion-label>\\r\\n      </ion-col> -->      \\r\\n      <ion-button size=\\\"small\\\" color=\\\"light\\\" (click)=\\\"presentActionSheet(element)\\\">\\r\\n        <ion-icon name=\\\"ellipsis-vertical-outline\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n      <!-- <ion-button size=\\\"small\\\" color=\\\"danger\\\" (click)=\\\"deleteAll(element)\\\">\\r\\n        <ion-icon name=\\\"trash-outline\\\"></ion-icon>\\r\\n      </ion-button> -->\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\r\\n      <ion-infinite-scroll-content\\r\\n        loadingSpinner=\\\"bubbles\\\"\\r\\n        loadingText=\\\"Cargando mas productos...\\\">\\r\\n      </ion-infinite-scroll-content>\\r\\n    </ion-infinite-scroll>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer>\\r\\n  <app-pedidomodal></app-pedidomodal>\\r\\n</ion-footer>\\r\\n\";","export default \"p, ion-card-title {\\n  color: black;\\n}\\n\\nion-col, ion-row {\\n  text-align: center;\\n}\\n\\nion-label {\\n  color: black;\\n}\\n\\n.contenido {\\n  padding: 10px;\\n}\\n\\nion-searchbar {\\n  background-color: aliceblue;\\n}\\n\\nion-searchbar, input {\\n  color: black;\\n}\\n\\nicon {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWlzLXByb2R1Y3Rvcy9taXMtcHJvZHVjdG9zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7QUFDSjs7QUFDQTtFQUNJLGtCQUFBO0FBRUo7O0FBQUU7RUFDRSxZQUFBO0FBR0o7O0FBREU7RUFDSSxhQUFBO0FBSU47O0FBRkU7RUFDRSwyQkFBQTtBQUtKOztBQUhBO0VBQ0EsWUFBQTtBQU1BOztBQUhBO0VBQ0UsWUFBQTtBQU1GIiwiZmlsZSI6InNyYy9hcHAvbWlzLXByb2R1Y3Rvcy9taXMtcHJvZHVjdG9zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInAsIGlvbi1jYXJkLXRpdGxle1xyXG4gICAgY29sb3I6IGJsYWNrXHJcbn1cclxuaW9uLWNvbCwgaW9uLXJvd3tcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcbiAgaW9uLWxhYmVse1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG4gIH1cclxuICAuY29udGVuaWRve1xyXG4gICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gIH1cclxuICBpb24tc2VhcmNoYmFye1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYWxpY2VibHVlO1xyXG59XHJcbmlvbi1zZWFyY2hiYXIsIGlucHV0e1xyXG5jb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcbmljb257XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59Il19 */\";","import { Component, OnInit, Input, ViewChild  } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AuthProvider } from '../providers/auth/auth';\r\nimport { IMProducto } from'../model/models';\r\nimport { ActionSheetController, IonInfiniteScroll, ModalController, PopoverController } from '@ionic/angular';\r\nimport { PedidomodalPage } from '../pedidomodal/pedidomodal.page';\r\nimport { CarritoPage } from '../carrito/carrito.page';\r\n\r\n@Component({\r\n  selector: 'app-mis-productos',\r\n  templateUrl: './mis-productos.page.html',\r\n  styleUrls: ['./mis-productos.page.scss'],\r\n})\r\nexport class MisProductosPage implements OnInit {\r\n\r\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\r\n\r\n  @Input() id: string; //id de la importadora\r\n  @Input() user_id:any;\r\n  @Input() importadora:any;\r\n\r\n  dataForm: FormGroup;\r\n  productos$:any=[];\r\n  textoBuscar:string='';\r\n  //importadora:string;\r\n  data: any;\r\n  IMProducto\r\n  misProductos:any={};\r\n\r\n  constructor(private route: ActivatedRoute, private _formBuilder: FormBuilder,\r\n    public api:AuthProvider, public actionSheetController: ActionSheetController,\r\n    public popoverController: PopoverController, public modalController: ModalController,\r\n    private router: Router,\r\n   ) {\r\n    \r\n   }\r\n\r\n  ngOnInit() {\r\n    this.misProductos = this.data;  \r\n    this.dataForm = this.createForm();\r\n    this.getmyProducts();\r\n  }\r\n\r\n  async presentActionSheet(element) {\r\n    const actionSheet = await this.actionSheetController.create({\r\n      header: 'Opciones Producto Importadora',\r\n      cssClass: 'my-custom-class-pedido',\r\n      buttons: [{\r\n        text: 'Ver',\r\n        role: 'show',\r\n        cssClass: 'my-custom-class-pedido',\r\n        icon: 'eye',\r\n        handler: () => {\r\n          console.log(element);\r\n          this.router.navigate(['/producto/' + element.id]);\r\n          this.modalController.dismiss({\r\n            'dismissed': true\r\n          });\r\n          \r\n        }\r\n      }, {\r\n        text: 'Comprar',\r\n        icon: 'cart',\r\n        cssClass: 'my-custom-class-pedido',\r\n        role: 'buy',\r\n        handler: () => {\r\n          this.add_productCartShop(element);\r\n          \r\n        }\r\n      },\r\n      // {\r\n      //   text: 'Editar',\r\n      //   icon: 'create',\r\n      //   handler: () => {\r\n      //    let data = this._formBuilder.group({\r\n      //       id : [element.id],\r\n      //       extra: [element.extra],\r\n      //       nombre_operacion : [element.nombre_operacion],\r\n      //       total_suma: [element.total_suma],\r\n      //       total_extra:[element.total_extra],\r\n      //       descripcion:[element.descripcion],\r\n      //       user_id:[element.user_id]\r\n      //     });\r\n      //     this.id = element.id;\r\n      //     this.nombre_operacion = element.nombre_operacion;\r\n      //     this.extra = element.extra;\r\n      //     this.descripcion = element.descripcion;\r\n      //     this.total_extra = element.total_extra;\r\n      //     this.total_suma = element.total_suma;\r\n      //   }\r\n      // },\r\n        {\r\n        text: 'Cancelar',\r\n        icon: 'close',\r\n        role: 'cancel',\r\n        handler: () => {\r\n          actionSheet.dismiss();\r\n        }\r\n      }]\r\n    });\r\n    await actionSheet.present();\r\n\r\n    const { role } = await actionSheet.onDidDismiss();\r\n    //console.log('onDidDismiss resolved with role', role);\r\n  }\r\n\r\n  async add_productCartShop(element) {\r\n    const modal = await this.modalController.create({\r\n      component: PedidomodalPage,\r\n      cssClass: 'my-custom-class-pedidoModal',\r\n      componentProps: {\r\n        data:{element:element},\r\n        'alto': element.alto,\r\n        'ancho': element.ancho,\r\n        'categorias_id': element.categorias_id,\r\n        'codigo': element.codigo,\r\n        'confirmacion': element.confirmacion,\r\n        'color': element.color,\r\n        'descripcion': element.descripcion,\r\n        'disponibilidad': element.disponibilidad,\r\n        'estado': element.estado,\r\n        'id': element.id,\r\n        'imagen': element.imagen,\r\n        'importadora': element.importadora,\r\n        'nombre': element.nombre,\r\n        'novedad':element.novedad,\r\n        'precio': element.precio,\r\n        'puntuacion': element.puntuacion,\r\n        'subcategorias_id': element.subcategorias_id,\r\n        'tipo_medida': element.tipo_medida,\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async cartDetails(){\r\n    const modal = await this.modalController.create({\r\n      component: CarritoPage,\r\n      cssClass: 'my-custom-class'\r\n    });\r\n    return await modal.present();\r\n  }\r\n  \r\n  loadData(event) {\r\n    setTimeout(() => {\r\n      console.log('Done');\r\n      event.target.complete();\r\n\r\n      // App logic to determine if all data is loaded\r\n      // and disable the infinite scroll\r\n      if (event.length == 20) {\r\n        event.target.disabled = true;\r\n      }\r\n    }, 500);\r\n  }\r\n  createForm(): FormGroup {\r\n    return this._formBuilder.group({\r\n      id : [this.id],\r\n      importadora:[this.importadora],\r\n      user_id:[this.user_id],\r\n    });\r\n  }\r\n\r\n  getmyProducts(){  \r\n    let data = this.dataForm.value;\r\n    let a = data.id;\r\n    console.log(data);\r\n    \r\n    this.api.getAllObjectById('getMyProducts/', a)\r\n    .subscribe((res) =>{ \r\n      this.productos$ = res;   \r\n    });\r\n  }\r\n\r\n  buscar(event){\r\n    this.textoBuscar = event.detail.value;\r\n  }\r\n\r\n  dissmis(){\r\n    this.modalController.dismiss({\r\n      'dismissed': true\r\n    });\r\n  }\r\n}\r\n"]}