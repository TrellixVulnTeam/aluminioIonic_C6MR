{"version":3,"sources":["webpack:///src/app/pedidomodal/pedidomodal.page.html","webpack:///src/app/pedidomodal/pedidomodal.page.scss","webpack:///src/app/pedidomodal/pedidomodal.page.ts"],"names":["PedidomodalPage","modalController","_formBuilder","auth","loadingController","alertController","restangular","toastController","data","carrito$","logs","usuarios$","name","major","value","getUser","dataForm","createForm","dataCarrito","data_Carrito","user_id","getCarrito","subscribe","res","estado","btnCarrito","group","carro_id","importadora","compose","required","descripcion","color","cantidad_pedido","nombre","imagen","precio","ancho","alto","importadora_carrito","codigo","tipo_medida","categorias_id","subcategorias_id","create","cssClass","header","message","buttons","text","role","handler","blah","submitData","alert","present","data_producto","console","log","carrito_importadora","importadora_producto","all","post","datav","dismiss","presentLoading","presentToast","error","confirmacion","mensaje","duration","loading","onDidDismiss","toast","JSON","parse","localStorage","getItem","getUsers","id","getmyCars","selector","template"],"mappings":"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","file":"default~importadoras-importadoras-module~mis-productos-mis-productos-module~pedidomodal-pedidomodal-module-es5.js","sourcesContent":["export default \"<ion-content >\\n  <ion-card style=\\\"padding: 14px;\\\">\\n    <form [formGroup]=\\\"dataCarrito\\\" (ngSubmit)=crearCarrito()>\\n     <ion-input [(ngModel)]=\\\"usuarios$.id\\\" formControlName=\\\"user_id\\\" disabled=\\\"true\\\" hidden=\\\"true\\\"></ion-input>\\n    \\n    </form>\\n    <div *ngIf=\\\"btnCarrito == true\\\">\\n      <ion-button color=\\\"primary\\\" (click)=\\\"crearCarrito();\\\">Crear Carrito</ion-button>\\n    </div>\\n\\n    <ion-item>\\n      <p>Codigo: </p>\\n      <ion-note slot=\\\"end\\\" color=\\\"dark\\\">{{ codigo }}</ion-note>\\n    </ion-item>\\n\\n    <ion-item>\\n      <p>Producto: </p>\\n      <ion-note slot=\\\"end\\\" color=\\\"dark\\\">{{ nombre }}</ion-note>\\n    </ion-item>\\n\\n    <ion-item>\\n      <p>Importadora: </p>\\n      <ion-note slot=\\\"end\\\" color=\\\"dark\\\">{{ importadora }}</ion-note>\\n    </ion-item>\\n\\n    \\n    <form [formGroup]=\\\"dataForm\\\" (ngSubmit)=postPedido()>\\n      <ion-input type=\\\"text\\\" formControlName=\\\"importadora_carrito\\\" value=\\\"{{carrito$.importadora}}\\\" hidden=\\\"true\\\"></ion-input>\\n      <ion-row>\\n          <h5 class=\\\"h5s\\\">Cantidad a pedir</h5> \\n      </ion-row>\\n      <ion-row >\\n        <input type=\\\"text\\\" value=\\\"{{carrito$.id}}\\\" [(ngModel)]=\\\"carrito$.id\\\" hidden=\\\"true\\\" formControlName=\\\"carro_id\\\">\\n        \\n        <ion-col col-4>\\n          <div class=\\\"wrapper\\\">\\n          <ion-button color=\\\"dark\\\" class=\\\"plusminus\\\" (click)=\\\"handleMinus()\\\"><strong>-</strong></ion-button>&nbsp;\\n          <!-- <input type=\\\"number\\\" class=\\\"num\\\" formControlName=\\\"cantidad_pedido\\\" \\n          [(ngModel)]=\\\"value\\\" [ngModelOptions]='{standalone: true}'/> -->\\n          <input type=\\\"number\\\" class=\\\"num\\\" formControlName=\\\"cantidad_pedido\\\" \\n          [(ngModel)]=\\\"value\\\" />\\n          <ion-button color=\\\"dark\\\" class=\\\"plusminus\\\" (click)=\\\"handlePlus()\\\" style=\\\"margin-left: 2.5px;\\\"><strong>+</strong></ion-button>\\n        </div>\\n        </ion-col>\\n        <ion-col col-4>\\n          <ion-item class=\\\"backItem\\\">\\n            <ion-label>Color</ion-label>\\n            <ion-select cancelText=\\\"Cancelar\\\" okText=\\\"Enviar\\\" formControlName=\\\"color\\\">\\n              <ion-select-option value=\\\"Natural\\\">Natural</ion-select-option>\\n              <ion-select-option value=\\\"Titanio\\\">Titanio</ion-select-option>\\n              <ion-select-option value=\\\"Champagne\\\">Champagne</ion-select-option>\\n              <ion-select-option value=\\\"Bronce\\\">Bronce</ion-select-option>\\n              <ion-select-option value=\\\"Negro\\\">Negro</ion-select-option>\\n              <ion-select-option value=\\\"Blanco\\\">Blanco</ion-select-option>\\n              <ion-select-option value=\\\"Madera\\\">Madera</ion-select-option>\\n              <!-- <ion-select-option value=\\\"Rojo\\\">Rojo</ion-select-option>\\n              <ion-select-option value=\\\"Verde\\\">Verde</ion-select-option>\\n              <ion-select-option value=\\\"Azul\\\">Azul</ion-select-option>\\n              <ion-select-option value=\\\"Amarillo\\\">Amarillo</ion-select-option>\\n              <ion-select-option value=\\\"Plomo\\\">Plomo</ion-select-option>\\n              <ion-select-option value=\\\"Rosado\\\">Rosado</ion-select-option>\\n              <ion-select-option value=\\\"Turquesa\\\">Turquesa</ion-select-option>\\n              <ion-select-option value=\\\"Cafe\\\">Cafe</ion-select-option>\\n              <ion-select-option value=\\\"Violeta\\\">Violeta</ion-select-option>\\n              <ion-select-option value=\\\"Naranja\\\">Naranja</ion-select-option> -->\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"md-12\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Descripción</ion-label>\\n            <ion-input formControlName=\\\"descripcion\\\" type=\\\"text\\\"></ion-input>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <br>\\n      <ion-row>\\n        <p><Strong>* Nota:</Strong>&nbsp; Se mandarán la solicitud de pedido y \\n          el proveedor(importadora) se comunicara con usted.</p>\\n      </ion-row><br> \\n      <ion-input  formControlName=\\\"importadora_producto\\\" value=\\\"{{importadora}}\\\" hidden=\\\"true\\\"></ion-input>\\n      <ion-input [(ngModel)]=\\\"usuarios$.id\\\" formControlName=\\\"user_id\\\" disabled=\\\"true\\\" hidden=\\\"true\\\"></ion-input>\\n\\n      <ion-row style=\\\"float: right;\\\">\\n        <ion-button color=\\\"dark\\\"  type=\\\"submit\\\">\\n          <ion-icon slot=\\\"start\\\" name=\\\"cart-sharp\\\">\\n        </ion-icon>Mandar Pedido</ion-button>\\n      </ion-row>\\n    </form>\\n    \\n    <ion-row style=\\\"float: left;\\\">\\n      <ion-button color=\\\"dark\\\" (click)=\\\"dismiss()\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"arrow-back-sharp\\\">\\n      </ion-icon>Atras</ion-button>\\n    </ion-row>\\n  </ion-card>\\n</ion-content>\\n\";","export default \"input {\\n  text-align: center;\\n  border: 1px solid #6C757D;\\n}\\n\\ninput[type=number] {\\n  -webkit-appearance: textfield !important;\\n  -moz-appearance: textfield !important;\\n  appearance: textfield !important;\\n}\\n\\ninput[type=number]::-webkit-inner-spin-button,\\ninput[type=number]::-webkit-outer-spin-button {\\n  -webkit-appearance: none;\\n}\\n\\n.wrapper {\\n  border: 2px #dcd3d3 solid;\\n  width: 41vw;\\n  height: 50px;\\n  padding: 10px;\\n  display: flex;\\n  border-radius: 15px;\\n}\\n\\n.plusminus {\\n  height: 80%;\\n  width: 24%;\\n  margin-right: 1.5px;\\n  border: none;\\n  font-size: 0.9rem;\\n}\\n\\n.num {\\n  height: 100%;\\n  width: 39%;\\n  border: none;\\n  font-size: 30px;\\n}\\n\\nhr {\\n  border-top: 1px solid gray;\\n}\\n\\n.h5s {\\n  padding-left: 5px;\\n  margin-bottom: 6px;\\n}\\n\\nh2 {\\n  color: black;\\n}\\n\\n.item-native {\\n  background: transparent !important;\\n}\\n\\nion-note {\\n  font-size: 0.9rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGVkaWRvbW9kYWwvcGVkaWRvbW9kYWwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0ksa0JBQUE7RUFDQSx5QkFBQTtBQUFKOztBQUdFO0VBQ0Usd0NBQUE7RUFDQSxxQ0FBQTtFQUNBLGdDQUFBO0FBQUo7O0FBR0U7O0VBRUksd0JBQUE7QUFBTjs7QUFHRTtFQUNFLHlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FBQUo7O0FBR0U7RUFDRSxXQUFBO0VBQ0EsVUFBQTtFQUNBLG1CQUFBO0VBRUEsWUFBQTtFQUNBLGlCQUFBO0FBREo7O0FBSUU7RUFDRSxZQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0FBREo7O0FBR0U7RUFDRSwwQkFBQTtBQUFKOztBQUVFO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtBQUNKOztBQUNFO0VBQ0MsWUFBQTtBQUVIOztBQUFDO0VBQ0Msa0NBQUE7QUFHRjs7QUFBQztFQUNFLGlCQUFBO0FBR0giLCJmaWxlIjoic3JjL2FwcC9wZWRpZG9tb2RhbC9wZWRpZG9tb2RhbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvL0JVVFRPTlxyXG5pbnB1dCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7ICBcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM2Qzc1N0Q7XHJcbiAgfSBcclxuICBcclxuICBpbnB1dFt0eXBlPVwibnVtYmVyXCJdIHtcclxuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogdGV4dGZpZWxkICFpbXBvcnRhbnQ7XHJcbiAgICAtbW96LWFwcGVhcmFuY2U6IHRleHRmaWVsZCAhaW1wb3J0YW50O1xyXG4gICAgYXBwZWFyYW5jZTogdGV4dGZpZWxkICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiAgXHJcbiAgaW5wdXRbdHlwZT1udW1iZXJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLFxyXG4gIGlucHV0W3R5cGU9bnVtYmVyXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbiB7XHJcbiAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcclxuICAgIH1cclxuICBcclxuICAud3JhcHBlciB7XHJcbiAgICBib3JkZXI6IDJweCAjZGNkM2QzIHNvbGlkO1xyXG4gICAgd2lkdGg6IDQxdnc7XHJcbiAgICBoZWlnaHQ6IDUwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5wbHVzbWludXMge1xyXG4gICAgaGVpZ2h0OiA4MCU7XHJcbiAgICB3aWR0aDogMjQlO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxLjVweDtcclxuICAgIC8vIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgZm9udC1zaXplOiAwLjlyZW07XHJcbiAgfVxyXG4gIFxyXG4gIC5udW0ge1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgd2lkdGg6IDM5JTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGZvbnQtc2l6ZTogMzBweDtcclxuICB9XHJcbiAgaHJ7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgZ3JheTtcclxuICB9XHJcbiAgLmg1c3tcclxuICAgIHBhZGRpbmctbGVmdDogNXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogNnB4O1xyXG4gIH1cclxuICBoMntcclxuICAgY29sb3I6IGJsYWNrO1xyXG4gfVxyXG4gLml0ZW0tbmF0aXZle1xyXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XHJcbiAgICBcclxuIH1cclxuIGlvbi1ub3Rle1xyXG4gICBmb250LXNpemU6IDAuOXJlbTtcclxuIH0iXX0= */\";","import { Component, Input, OnInit, VERSION } from '@angular/core';\nimport { AlertController, LoadingController, ModalController, ToastController } from '@ionic/angular';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AuthProvider } from '../providers/auth/auth';\nimport { Restangular } from 'ngx-restangular';\n@Component({\n  selector: 'app-pedidomodal',\n  templateUrl: './pedidomodal.page.html',\n  styleUrls: ['./pedidomodal.page.scss'],\n})\nexport class PedidomodalPage implements OnInit {\n\n  @Input() id: string;\n  @Input() nombre: string;\n  @Input() importadora: string;\n  @Input() disponibilidad: string;\n  @Input() confirmacion: string;\n  @Input() codigo: string;\n  @Input() color: string;\n  @Input() descripcion: string;\n  @Input() imagen: string;\n  @Input() novedad: string;\n  @Input() precio: string;\n  @Input() alto: string;\n  @Input() ancho: string;\n  @Input() puntuacion: string;\n  @Input() categorias_id: string;\n  @Input() subcategorias_id: string;\n  @Input() tipo_medida: string;\n\n  dataForm: FormGroup;\n  dataCarrito: FormGroup;\n  data:any='';\n  carrito$:any=[];\n  logs:any=[];\n  usuarios$:any=[];\n  user_id:number;\n  carrito_id:string;\n  btnCarrito:boolean;\n  importadora_carrito: any;\n\n  constructor(public modalController: ModalController,private _formBuilder: FormBuilder,\n    public auth:AuthProvider,public loadingController: LoadingController,\n    public alertController: AlertController,private restangular:Restangular,\n    public toastController: ToastController\n    ) { }\n\n\n  ngOnInit() {\n    this.getUser();\n    this.dataForm = this.createForm();\n    this.dataCarrito = this.data_Carrito();\n  }\n\n  getmyCars(user_id:number){\n    this.auth.getCarrito('getCartAttribute/', user_id)\n    .subscribe((res) =>{\n      this.carrito$ = res as string[];\n      // console.log(this.carrito$.importadora);\n\n      //this.carrito$ = Object.values(this.carrito$);\n      if(this.carrito$.estado == 'false' ){\n        this.btnCarrito = false;\n        //console.log(\"si hay algo\");\n      }else{\n        //console.log(\"no lo hay\");\n        this.btnCarrito = true;\n      }\n      //this.loadData();\n    });\n  }\n\n\n\n  createForm(): FormGroup {\n    return this._formBuilder.group({\n      //id : [this.id], //pertenece al id del producto\n      //estado: [this.estado,Validators.compose([Validators.required])],\n      carro_id : [this.data.carro_id],\n      importadora: [this.importadora,Validators.compose([Validators.required])],\n      descripcion: [this.descripcion],\n      color: [this.data.color],\n      cantidad_pedido:[this.data.cantidad_pedido],\n\n      nombre:[this.nombre],\n      imagen:[this.imagen],\n      precio:[this.precio],\n      ancho:[this.ancho],\n      alto:[this.alto],\n      importadora_carrito:[this.importadora_carrito],\n      codigo:[this.codigo],\n      tipo_medida:[this.tipo_medida],\n      categorias_id:[this.categorias_id],\n      subcategorias_id:[this.subcategorias_id],\n    });\n  }\n\n  async postPedido(){\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: '¿Agregar Producto a Carrito?',\n      message: '',\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            return false\n            //console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Si',\n          handler: () => {\n            this.submitData();\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  submitData(){\n    let data_producto = this.dataForm.value;\n    console.log(data_producto);\n    \n\n    let carrito_importadora = data_producto.importadora_carrito;\n    let importadora_producto = data_producto.importadora;\n\n    if(this.btnCarrito == false){\n      if(carrito_importadora === importadora_producto){\n        this.restangular.all('guardarPedido').post(data_producto).subscribe((datav)=>{\n          this.dismiss();\n          this.presentLoading(\"Guardando Pedido\")\n        }); \n      }else{\n        this.dismiss();\n        this.presentToast(\"Solo agregar productos de una misma importadora\");\n      }\n    }else{\n      this.dismiss();\n      this.presentToast(\"Primero Cree un Carrito\");\n      (error)=>{\n        console.log(error);\n      };\n    }\n  }\n\n  data_Carrito(): FormGroup {\n    let estado = \"false\";\n    let confirmacion = \"false\";\n    return this._formBuilder.group({\n      estado: [estado],\n      confirmacion:[confirmacion],\n      importadora: [this.importadora],\n      descripcion: [this.descripcion],\n      user_id : [this.user_id],\n    });\n  }\n\n  crearCarrito(){\n    let data = this.dataCarrito.value;\n    console.log(data);\n    if(data){\n      this.restangular.all('guardarCarrito').post(data).subscribe((datav)=>{\n        this.dismiss();\n        this.presentLoading(\"Creando Carrito\");\n      });\n    }else{\n      (error)=>{\n        console.log(error);\n      }\n    }\n  }\n\n  async presentLoading(mensaje:string) {\n    const loading = await this.loadingController.create({\n      cssClass: 'loading',\n      message: mensaje,\n      duration: 4000\n    });\n    await loading.present();\n    const { role, data } = await loading.onDidDismiss();\n  }\n\n  async presentAlert(){\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Carrito',\n      //subHeader: 'Subtitle',\n      message: 'Se añadio a Carrito',\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n\n  dismiss(){\n    // using the injected ModalController this page\n    // can \"dismiss\" itself and optionally pass back data\n    this.modalController.dismiss({\n      'dismissed': true\n    });\n  }\n\n  name = 'Angular ' + VERSION.major;\n  value = 0;\n\n  handleMinus() {\n    this.value--;\n  }\n  handlePlus() {\n    this.value++;\n  }\n  async presentToast(message:any) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  getUser(){\n    this.logs = JSON.parse(localStorage.getItem('Usuario'));\n\n    this.auth.getUsers('usuariosStorage/', this.logs).subscribe((res) =>{\n      this.usuarios$ = res;\n      let user_id =  this.usuarios$.id;\n      this.getmyCars(user_id);\n    });\n  }\n}\n"]}