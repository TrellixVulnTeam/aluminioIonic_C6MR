{"version":3,"sources":["webpack:///src/app/mis-productos/mis-productos.page.html","webpack:///src/app/mis-productos/mis-productos.page.scss","webpack:///src/app/mis-productos/mis-productos.page.ts"],"names":["MisProductosPage","route","_formBuilder","api","actionSheetController","popoverController","modalController","router","productos$","textoBuscar","misProductos","data","dataForm","createForm","getmyProducts","element","create","header","cssClass","buttons","text","role","icon","handler","console","log","navigate","id","dismiss","add_productCartShop","actionSheet","present","onDidDismiss","component","componentProps","alto","ancho","categorias_id","codigo","confirmacion","color","descripcion","disponibilidad","estado","imagen","importadora","nombre","novedad","precio","puntuacion","subcategorias_id","tipo_medida","modal","event","setTimeout","target","complete","length","disabled","group","user_id","value","a","getAllObjectById","subscribe","res","detail","selector","template"],"mappings":"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","file":"default~importadoras-importadoras-module~mis-productos-mis-productos-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"dissmis();\\\"><ion-icon name=\\\"close-outline\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n    <ion-title>Prod. Importadora</ion-title>\\n    <ion-buttons slot=\\\"end\\\" >\\n      <ion-button (click)=\\\"cartDetails()\\\"><ion-icon name=\\\"cart\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n  <ion-searchbar mode=\\\"ios\\\" (ionChange)=\\\"buscar($event)\\\" placeholder=\\\"Buscar por CÃ³digo\\\" animated></ion-searchbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"contenido\\\">\\n    <ion-row style=\\\"border-bottom: groove;text-align: center;\\\">\\n      <ion-col col-4>\\n        <ion-label><strong>Cod.</strong></ion-label>\\n      </ion-col>\\n      <ion-col col-4>\\n        <ion-label><strong>Nombre</strong> </ion-label>\\n      </ion-col>\\n      <ion-col col-4>\\n        <ion-label><strong>Color</strong></ion-label>\\n      </ion-col>\\n      <!-- <ion-col col-4>\\n        <ion-label><strong>Precio</strong></ion-label>\\n      </ion-col> -->\\n      <ion-col col-4>\\n        <ion-label><strong><ion-icon name=\\\"ellipsis-vertical-outline\\\"></ion-icon></strong></ion-label>\\n      </ion-col>\\n    </ion-row>\\n  \\n    <ion-row style=\\\"border-bottom: groove;\\\" *ngFor=\\\"let element of productos$ | filtro:textoBuscar:'codigo'\\\">\\n      <ion-col col-4>\\n        <ion-label>{{element.codigo}}</ion-label>\\n      </ion-col>\\n      <ion-col col-4>\\n        <ion-label>{{element.nombre}}</ion-label>\\n      </ion-col>\\n      <ion-col col-4>\\n        <ion-label> {{element.color}}</ion-label>\\n      </ion-col>\\n      <!-- <ion-col col-4>\\n        <ion-label>{{element.precio}}</ion-label>\\n      </ion-col> -->      \\n      <ion-button size=\\\"small\\\" color=\\\"light\\\" (click)=\\\"presentActionSheet(element)\\\">\\n        <ion-icon name=\\\"ellipsis-vertical-outline\\\"></ion-icon>\\n      </ion-button>\\n      <!-- <ion-button size=\\\"small\\\" color=\\\"danger\\\" (click)=\\\"deleteAll(element)\\\">\\n        <ion-icon name=\\\"trash-outline\\\"></ion-icon>\\n      </ion-button> -->\\n    </ion-row>\\n\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n      <ion-infinite-scroll-content\\n        loadingSpinner=\\\"bubbles\\\"\\n        loadingText=\\\"Cargando mas productos...\\\">\\n      </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n  </div>\\n</ion-content>\\n\\n<ion-footer>\\n  <app-pedidomodal></app-pedidomodal>\\n</ion-footer>\\n\";","export default \"p, ion-card-title {\\n  color: black;\\n}\\n\\nion-col, ion-row {\\n  text-align: center;\\n}\\n\\nion-label {\\n  color: black;\\n}\\n\\n.contenido {\\n  padding: 10px;\\n}\\n\\nion-searchbar {\\n  background-color: aliceblue;\\n}\\n\\nion-searchbar, input {\\n  color: black;\\n}\\n\\nicon {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWlzLXByb2R1Y3Rvcy9taXMtcHJvZHVjdG9zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7QUFDSjs7QUFDQTtFQUNJLGtCQUFBO0FBRUo7O0FBQUU7RUFDRSxZQUFBO0FBR0o7O0FBREU7RUFDSSxhQUFBO0FBSU47O0FBRkU7RUFDRSwyQkFBQTtBQUtKOztBQUhBO0VBQ0EsWUFBQTtBQU1BOztBQUhBO0VBQ0UsWUFBQTtBQU1GIiwiZmlsZSI6InNyYy9hcHAvbWlzLXByb2R1Y3Rvcy9taXMtcHJvZHVjdG9zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInAsIGlvbi1jYXJkLXRpdGxle1xyXG4gICAgY29sb3I6IGJsYWNrXHJcbn1cclxuaW9uLWNvbCwgaW9uLXJvd3tcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcbiAgaW9uLWxhYmVse1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG4gIH1cclxuICAuY29udGVuaWRve1xyXG4gICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gIH1cclxuICBpb24tc2VhcmNoYmFye1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYWxpY2VibHVlO1xyXG59XHJcbmlvbi1zZWFyY2hiYXIsIGlucHV0e1xyXG5jb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcbmljb257XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59Il19 */\";","import { Component, OnInit, Input, ViewChild  } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AuthProvider } from '../providers/auth/auth';\nimport { IMProducto } from'../model/models';\nimport { ActionSheetController, IonInfiniteScroll, ModalController, PopoverController } from '@ionic/angular';\nimport { PedidomodalPage } from '../pedidomodal/pedidomodal.page';\nimport { CarritoPage } from '../carrito/carrito.page';\n\n@Component({\n  selector: 'app-mis-productos',\n  templateUrl: './mis-productos.page.html',\n  styleUrls: ['./mis-productos.page.scss'],\n})\nexport class MisProductosPage implements OnInit {\n\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n\n  @Input() id: string; //id de la importadora\n  @Input() user_id:any;\n  @Input() importadora:any;\n\n  dataForm: FormGroup;\n  productos$:any=[];\n  textoBuscar:string='';\n  //importadora:string;\n  data: any;\n  IMProducto\n  misProductos:any={};\n\n  constructor(private route: ActivatedRoute, private _formBuilder: FormBuilder,\n    public api:AuthProvider, public actionSheetController: ActionSheetController,\n    public popoverController: PopoverController, public modalController: ModalController,\n    private router: Router,\n   ) {\n    \n   }\n\n  ngOnInit() {\n    this.misProductos = this.data;  \n    this.dataForm = this.createForm();\n    this.getmyProducts();\n  }\n\n  async presentActionSheet(element) {\n    const actionSheet = await this.actionSheetController.create({\n      header: 'Opciones Producto Importadora',\n      cssClass: 'my-custom-class-pedido',\n      buttons: [{\n        text: 'Ver',\n        role: 'show',\n        cssClass: 'my-custom-class-pedido',\n        icon: 'eye',\n        handler: () => {\n          console.log(element);\n          this.router.navigate(['/producto/' + element.id]);\n          this.modalController.dismiss({\n            'dismissed': true\n          });\n          \n        }\n      }, {\n        text: 'Comprar',\n        icon: 'cart',\n        cssClass: 'my-custom-class-pedido',\n        role: 'buy',\n        handler: () => {\n          this.add_productCartShop(element);\n          \n        }\n      },\n      // {\n      //   text: 'Editar',\n      //   icon: 'create',\n      //   handler: () => {\n      //    let data = this._formBuilder.group({\n      //       id : [element.id],\n      //       extra: [element.extra],\n      //       nombre_operacion : [element.nombre_operacion],\n      //       total_suma: [element.total_suma],\n      //       total_extra:[element.total_extra],\n      //       descripcion:[element.descripcion],\n      //       user_id:[element.user_id]\n      //     });\n      //     this.id = element.id;\n      //     this.nombre_operacion = element.nombre_operacion;\n      //     this.extra = element.extra;\n      //     this.descripcion = element.descripcion;\n      //     this.total_extra = element.total_extra;\n      //     this.total_suma = element.total_suma;\n      //   }\n      // },\n        {\n        text: 'Cancelar',\n        icon: 'close',\n        role: 'cancel',\n        handler: () => {\n          actionSheet.dismiss();\n        }\n      }]\n    });\n    await actionSheet.present();\n\n    const { role } = await actionSheet.onDidDismiss();\n    //console.log('onDidDismiss resolved with role', role);\n  }\n\n  async add_productCartShop(element) {\n    const modal = await this.modalController.create({\n      component: PedidomodalPage,\n      cssClass: 'my-custom-class-pedidoModal',\n      componentProps: {\n        data:{element:element},\n        'alto': element.alto,\n        'ancho': element.ancho,\n        'categorias_id': element.categorias_id,\n        'codigo': element.codigo,\n        'confirmacion': element.confirmacion,\n        'color': element.color,\n        'descripcion': element.descripcion,\n        'disponibilidad': element.disponibilidad,\n        'estado': element.estado,\n        'id': element.id,\n        'imagen': element.imagen,\n        'importadora': element.importadora,\n        'nombre': element.nombre,\n        'novedad':element.novedad,\n        'precio': element.precio,\n        'puntuacion': element.puntuacion,\n        'subcategorias_id': element.subcategorias_id,\n        'tipo_medida': element.tipo_medida,\n      }\n    });\n    return await modal.present();\n  }\n\n  async cartDetails(){\n    const modal = await this.modalController.create({\n      component: CarritoPage,\n      cssClass: 'my-custom-class'\n    });\n    return await modal.present();\n  }\n  \n  loadData(event) {\n    setTimeout(() => {\n      console.log('Done');\n      event.target.complete();\n\n      // App logic to determine if all data is loaded\n      // and disable the infinite scroll\n      if (event.length == 20) {\n        event.target.disabled = true;\n      }\n    }, 500);\n  }\n  createForm(): FormGroup {\n    return this._formBuilder.group({\n      id : [this.id],\n      importadora:[this.importadora],\n      user_id:[this.user_id],\n    });\n  }\n\n  getmyProducts(){  \n    let data = this.dataForm.value;\n    let a = data.id;\n    console.log(data);\n    \n    this.api.getAllObjectById('getMyProducts/', a)\n    .subscribe((res) =>{ \n      this.productos$ = res;   \n    });\n  }\n\n  buscar(event){\n    this.textoBuscar = event.detail.value;\n  }\n\n  dissmis(){\n    this.modalController.dismiss({\n      'dismissed': true\n    });\n  }\n}\n"]}