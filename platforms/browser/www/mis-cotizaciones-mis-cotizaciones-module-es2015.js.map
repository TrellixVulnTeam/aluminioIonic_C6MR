{"version":3,"sources":["./src/app/mis-cotizaciones/mis-cotizaciones.page.html","./src/app/mis-cotizaciones/mis-cotizaciones-routing.module.ts","./src/app/mis-cotizaciones/mis-cotizaciones.module.ts","./src/app/mis-cotizaciones/mis-cotizaciones.page.scss","./src/app/mis-cotizaciones/mis-cotizaciones.page.ts"],"names":[],"mappings":"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","file":"mis-cotizaciones-mis-cotizaciones-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button><ion-icon name=\\\"menu-outline\\\"></ion-icon></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Cotizaciones Recibidas</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button disabled=\\\"true\\\">\\n        <!-- <ion-icon name=\\\"person-circle-outline\\\"></ion-icon> -->\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content no-padding>\\n  <div class=\\\"ion-content\\\" padding><br>\\n    <ion-item-group>\\n      <ion-item>\\n        <p style=\\\"margin-block-start: 0em; margin-block-end: 0em;\\\">\\n          <strong>Mis Cotizaciones</strong>\\n        </p>\\n      </ion-item>\\n      \\n      <ion-item-sliding *ngFor=\\\"let element of  cotizaciones$\\\">\\n        <ion-item lines=\\\"none\\\">\\n          <ion-thumbnail slot=\\\"start\\\">          \\n            <ion-icon name=\\\"logo-buffer\\\" style=\\\"font-size: 53px;color: black;\\\"></ion-icon>\\n          </ion-thumbnail>\\n          <ion-label text-wrap>\\n            <p><strong>{{element.importadora}} </strong></p>\\n            <p>Carrito Cotizado: {{element.carrito_id}}</p>\\n            <!-- <p>Estado: {{element.estado}}</p> -->\\n            <p>{{element.descripcion}}</p><br>\\n          <!-- <p>Archivo: <a [href]=\\\"http://altools.es/{{ element.file }}\\\">{{ element.file }}</a> </p> -->\\n          </ion-label>\\n          <ion-button (click)=\\\"show(element)\\\" size=\\\"default\\\" >\\n            <ion-icon name=\\\"document-text-outline\\\"></ion-icon>\\n          </ion-button>\\n        </ion-item>\\n        <ion-item-options side=\\\"end\\\">\\n          <ion-item-option color=\\\"danger\\\" (click)=\\\"presentAlertConfirm(element)\\\">\\n            <ion-icon class=\\\"icongarbage\\\" slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>Eliminar\\n          </ion-item-option>\\n        </ion-item-options>\\n      </ion-item-sliding>\\n    </ion-item-group>\\n    <br>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MisCotizacionesPage } from './mis-cotizaciones.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MisCotizacionesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MisCotizacionesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MisCotizacionesPageRoutingModule } from './mis-cotizaciones-routing.module';\n\nimport { MisCotizacionesPage } from './mis-cotizaciones.page';\nimport { File } from '@ionic-native/file';\nimport { FileTransfer } from '@ionic-native/file-transfer/ngx';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MisCotizacionesPageRoutingModule\n  ],\n  declarations: [MisCotizacionesPage]\n})\nexport class MisCotizacionesPageModule {}\n","export default \"p {\\n  color: black !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWlzLWNvdGl6YWNpb25lcy9taXMtY290aXphY2lvbmVzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHVCQUFBO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9taXMtY290aXphY2lvbmVzL21pcy1jb3RpemFjaW9uZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsicHtcclxuICAgIGNvbG9yOiBibGFjayAhaW1wb3J0YW50O1xyXG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { AuthProvider } from '../providers/auth/auth';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { Downloader, DownloadRequest, NotificationVisibility } from '@ionic-native/downloader/ngx';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-mis-cotizaciones',\n  templateUrl: './mis-cotizaciones.page.html',\n  styleUrls: ['./mis-cotizaciones.page.scss'],\n})\nexport class MisCotizacionesPage implements OnInit {\n \n  cotizaciones$: any = [];\n  logs:any=[];\n  usuarios$:any=[];\n\n  \n  constructor(public auth: AuthProvider,private transfer: FileTransfer,\n    private file: File, private downloader:Downloader,private router: Router ) {}\n\n  ngOnInit() {\n    this.getUser();\n  }\n\n  getCotizaciones(user_id:number) {\n    this.auth.getAllObjectById('getMisCotizaciones/', user_id)\n      .subscribe((res) => {\n        this.cotizaciones$ = res;\n        console.log(this.cotizaciones$);\n      });\n  }\n\n  show(element) {\n    \n\n    //console.log(element);\n\n    // const fileTransfer: FileTransferObject = this.transfer.create();\n\n    // const url = ('https://192.168.1.7:5000/api/');\n    const url = ('https://altools.es/api/');\n\n    var downloadURL = (url + 'downloads/' + element.file);\n    let menjsa=(\"Mi Cotizacion\"+ element.file);\n    let descr=(\"Descripcion\"+element.descripcion);\n\n    var request: DownloadRequest = {\n      uri: downloadURL,\n      title: menjsa,\n      description: descr,\n      mimeType: '',\n      visibleInDownloadsUi: true,\n      notificationVisibility: NotificationVisibility.VisibleNotifyCompleted,\n      destinationInExternalFilesDir: {\n          dirType: 'Downloads',\n          subPath: 'MyFile.pdf'\n        }\n    };\n\n    this.downloader.download(request)\n    .then((location: string) => console.log('File downloaded at:'+location))\n    .catch((error: any) => console.error(error));\n\n    console.log(downloadURL );\n    \n    // fileTransfer.download(url, 'download/' + element.file ).then((entry) => {\n    //   console.log('download complete: ' + entry.toURL());\n    // }, (error) => {\n    //   console.log(error);\n    // });\n  }\n\n  presentAlertConfirm(element){\n    console.log(element);\n  }\n  perfil(){\n    this.router.navigate(['/perfil']);\n  }\n  \n  getUser(){\n    this.logs = JSON.parse(localStorage.getItem('Usuario'));\n    \n    this.auth.getUsers('usuariosStorage/', this.logs).subscribe((res) =>{ \n      this.usuarios$ = res;\n      let user_id =  this.usuarios$.id;\n\n      this.getCotizaciones(user_id);\n      //console.log(this.usuarios$);\n    });\n  }\n}"],"sourceRoot":"webpack:///"}